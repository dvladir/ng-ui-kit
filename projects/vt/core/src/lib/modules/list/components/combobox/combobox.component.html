<vtc-dropdown #vtcDropdown="vtcDropdown" [listProvider]="listProvider" [(selectedItem)]="selectedItem">
  <div #readonlyView class="form-control" [class.is-hidden]="vtcDropdown.isOpen" [tabIndex]="vtTabIndex"
       [attr.readonly]="readonlyState"
       (click)="open()"
       (keydown.arrowDown)="open()"
       (keydown.delete)="clear()"
       (keydown.backspace)="clear()">
    {{selectedItem?.label || '&nbsp;'}}
  </div>
  <input #searchInput type="text" class="form-control" [class.is-hidden]="!vtcDropdown.isOpen" [tabindex]="vtTabIndex"
         [(ngModel)]="listProvider.searchValue"
         (keydown.arrowDown)="onKeyDown()"
         (keydown.arrowUp)="onKeyUp()"
         (keydown.escape)="close()"
         (keydown.enter)="close(true)"/>
  <ng-container *ngIf="listProvider.isPending && !vtcDropdown.isOpen; then progressIndicator; else comboIndicator">
  </ng-container>
  <ng-template #progressIndicator>
    <vtc-indicator classes="fa-2x"></vtc-indicator>
  </ng-template>
  <ng-template #comboIndicator>
    <i class="fas combo-indicator" [ngClass]="{
    'fa-chevron-down': !vtcDropdown.isOpen,
    'fa-search': vtcDropdown.isOpen
  }"></i>
  </ng-template>
</vtc-dropdown>
